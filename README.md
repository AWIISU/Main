# Main
large portion of the code
